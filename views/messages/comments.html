<div ng-if="!ticketComments" class="content content-msg p20"><div ng-if="!msgErrComments" class="gs-msgs-loader"></div><div ng-if="msgErrComments" class="alert alert-danger">There was a problem loading your messages, please try again later.</div></div><div ng-show="ticketComments" ng-class="{'content-msg-bg':ticketComments}" gscaseheight="gscaseheight" class="content content-msg"><div class="gs-msg-header gs-desktop"><div ng-show="commentRep" ng-class="{'gs-msg-header-rep-api':commentRep == 'API User'}" class="gs-msg-header-rep"><img ng-src="{{ commentRepUrl | gsformaturl}}" ng-if="commentRep" class="gs-msg-header-rep-img"><p class="gs-msg-header-service">At your service...</p><p ng-if="commentRep !== 'API User'" class="gs-msg-header-name">{{commentRep}}</p><!--span(class="gs-msg-header-rating", ng-if="commentRepRating") {{commentRepRating}}span(class="gs-icons-sm")
      --><p ng-if="ticketCommentsRes" class="gs-msg-header-response">Last response {{ticketCommentsRes | timeago}}</p></div></div><div class="gs-comment-ticket gs-mobile">Case: {{ticketActive}}</div><div scroll-glue-bottom="glued" gscommentsheight="gscommentsheight" class="gs-msg"><div ng-repeat="comment in ticketComments" ng-show="ticketComments.length &gt; 0" class="gs-msg-message-wrap"><p class="gs-msg-date">{{comment.created_at | date : 'EEEE, MMMM d, y - h:mm a' }}</p><div ng-if="comment.author_id == commentRepId" class="gs-msg-message gs-msg-from"><span ng-if="comment.body !== 'attachment'">{{comment.body}}</span><div ng-if="comment.attachments.length &gt; 0" class="comment-attachment"><ul class="gs-msg-attachment"><li ng-repeat="attachment in comment.attachments"><a ng-href="{{attachment.content_url}}" target=" _blank"><ul ng-if="attachment.thumbnails.length &gt; 0"><li ng-repeat="thumbnail in attachment.thumbnails"><img ng-src="{{thumbnail.content_url}}"></li></ul><!--{{attachment.file_name}}--></a></li></ul></div></div><div ng-if="comment.author_id != commentRepId" class="gs-msg-message gs-msg-to"><span ng-if="comment.body !== 'attachment'">{{comment.body}}</span><div ng-if="comment.attachments.length &gt; 0"><ul class="gs-msg-attachment"><li ng-repeat="attachment in comment.attachments"><a ng-href="{{attachment.content_url}}" target=" _blank"><ul ng-if="attachment.thumbnails.length &gt; 0"><li ng-repeat="thumbnail in attachment.thumbnails"><img ng-src="{{thumbnail.content_url}}"></li></ul></a></li></ul></div></div></div></div><form ng-submit="commentSubmit()" ng-show="ticketComments.length &gt; 0" ng-disabled="uploadDisable" ng-class="{'disabled':comment.send || uploadDisable}" class="gs-msg-send"><span ng-if="uploadDisable" class="gs-msgs-loader"></span><input type="text" placeholder="Type a message" ng-model="comment.new" id="comment-input" class="input-lg gs-msg-send-input"><div class="gs-msg-send-btn"><span ngf-select="ngf-select" ngf-accept="'.gif,.jpg,.jpeg,.png,.doc,.docx,.xls,.xlsx,.pdf,.mov,.qt,.wmv,.mp4,.m4p,.m4v'" ngf-change="upload($file)" ng-class="{'disabled': uploadDisable }" ngf-validate="{size: {min:'1KB', max:'20MB'}}" class="gs-icons-sm gs-msg-send-btn-icon"></span> <button type="submit" ng-disabled="comment.send" ng-class="{'disabled':comment.send || uploadDisable}" class="btn-gs-msg-send gs-link">Send</button></div></form></div>